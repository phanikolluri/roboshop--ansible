
#  PRINT "Download ${COMPONENT} content"
#  curl -s -L -o /tmp/${COMPONENT}.zip "https://github.com/roboshop-devops-project/${COMPONENT}/archive/main.zip" &>>${LOG}
#  CHECK_STAT $?
#
#  PRINT "remove old content"
#  cd /usr/share/nginx/html
#  rm -rf * &>>${LOG}
#  CHECK_STAT $?
#
#  PRINT "Extract ${COMPONENT} content"
#  unzip /tmp/${COMPONENT}.zip &>>${LOG}
#  CHECK_STAT $?
#
#  PRINT "Organise ${COMPONENT} content"
#  mv ${COMPONENT}-main/* . && mv static/* . &&  rm -rf ${COMPONENT}-main README.md && mv localhost.conf /etc/nginx/default.d/roboshop.conf
#  CHECK_STAT $?
#
#
#  PRINT "update ${COMPONENT} configuration"
#  sed -i -e '/catalogue/ s/localhost/catalogue.roboshop.internal/' -e '/user/ s/localhost/user.roboshop.internal/' -e '/cart/ s/localhost/cart.roboshop.internal/' -e '/payment/ s/localhost/payment.roboshop.internal/' -e '/shipping/ s/localhost/shipping.roboshop.internal/'  /etc/nginx/default.d/roboshop.conf
#  CHECK_STAT $?
#
#  PRINT "start Nginx service"
#  systemctl enable nginx &>>${LOG} && systemctl restart nginx &>>${LOG}
#  CHECK_STAT $?
#
#}

- name: Installing Nginx
  ansible.builtin.yum:
    name: nginx
    state: installed

- name: Download {{ COMPONENT }} code
  ansible.builtin.include_role:
    name: common
    tasks_from: download




